var XMLHttpRequest=require("xmlhttprequest-ssl");var XHR=require("./polling-xhr");var JSONP=require("./polling-jsonp");var websocket=require("./websocket");exports.polling=polling;exports.websocket=websocket;function polling(c){var g;var d=false;var b=false;var f=false!==c.jsonp;if(global.location){var e="https:"===location.protocol;var a=location.port;if(!a){a=e?443:80}d=c.hostname!==location.hostname||a!==c.port;b=c.secure!==e}c.xdomain=d;c.xscheme=b;g=new XMLHttpRequest(c);if("open" in g&&!c.forceJSONP){return new XHR(c)}else{if(!f){throw new Error("JSONP disabled")}return new JSONP(c)}};