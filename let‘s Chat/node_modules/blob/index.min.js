var BlobBuilder=global.BlobBuilder||global.WebKitBlobBuilder||global.MSBlobBuilder||global.MozBlobBuilder;var blobSupported=(function(){try{var b=new Blob(["hi"]);return b.size===2}catch(c){return false}})();var blobSupportsArrayBufferView=blobSupported&&(function(){try{var a=new Blob([new Uint8Array([1,2])]);return a.size===2}catch(c){return false}})();var blobBuilderSupported=BlobBuilder&&BlobBuilder.prototype.append&&BlobBuilder.prototype.getBlob;function mapArrayBufferViews(d){for(var c=0;c<d.length;c++){var b=d[c];if(b.buffer instanceof ArrayBuffer){var a=b.buffer;if(b.byteLength!==a.byteLength){var e=new Uint8Array(b.byteLength);e.set(new Uint8Array(a,b.byteOffset,b.byteLength));a=e.buffer}d[c]=a}}}function BlobBuilderConstructor(c,a){a=a||{};var d=new BlobBuilder();mapArrayBufferViews(c);for(var b=0;b<c.length;b++){d.append(c[b])}return(a.type)?d.getBlob(a.type):d.getBlob()}function BlobConstructor(b,a){mapArrayBufferViews(b);return new Blob(b,a||{})}module.exports=(function(){if(blobSupported){return blobSupportsArrayBufferView?global.Blob:BlobConstructor}else{if(blobBuilderSupported){return BlobBuilderConstructor}else{return undefined}}})();